## What is HTTP?

### HTTP란 무엇인가?

HTTP는 클라이언트와 서버가 통신하는 방법을 표준화하는 TCP/IP 기반 응용 프로그램 계층 통신 프로토콜이다. 기본적으로 TCP 포트 80이 사용되지만 다른 포트도 사용할 수 있다. HTTPS는 포트 443을 사용한다.

### HTTP/0.9 - 더 원 라이너 (1991)

HTTP의 첫 번째 문서화된 버전은 1991년에 제안된 HTTP/0.9였습니다. 클라이언트가 서버의 웹페이지에 액세스해야 한다면 아래와 같은 간단한 요청을 했을것이다.

`GET /index.html`

그리고 서버로부터의 응답은 다음과 같이 보였을 것입니다.

`(response body)`

`(connection closed) `

즉 서버는 요청을 받고 응답에 HTML로 응답하며 내용이 전송되는 즉시 연결이 닫힙니다.

* 머리글 없음
* 'GET'유일하게 허용된 방법이었음
* 응답은 HTML이어야 함

### HTTP/1.0 - 1996

0.9와 달리 1.0은 이제 이미지, 비디오 파일, 일반 텍스트 또는 다른 컨텐츠 유형과 같은 다른 응답 형식을 처리할 수 있습니다. 더 많은 메소드(POST, HEAD), 요청/응답 형식 변경, 요청 및 응답 모두에 HTTP 헤더 추가, 응답 식별을 위한 상태 코드 추가, 문자 집합 지원 도입, 다중파트 유형, 권한 부여, 캐싱, 컨텐츠 인코딩 등이 포함되었다.

```
GET / HTTP/1.0
Host: cs.fyi
User-Agent: Mozilla/5.0 (Macintosh: Intel Mac OS X 10_10_5)
Accept: */*
```

위의 요청에 대한 응답 예는 아래와 같다

```
HTTP/1.0 200 OK
Content-Type: text/plain
Content-Length: 137582
Expires: Thu, 05 Dec 1997 16:00:00 GMT
Last-Modified: Wed, 5 August 1996 15:55:28 GMT
Server: Apache 0.84

(response body)
(connection closed)
```

응답의 맨 처음에는 HTTP/1.0 (버전 번호)이 있고, 다음에는 상태 코드 200과 이유 구문(또는 상태 코드 설명이 있다)

HTTP/1.0의 주요 단점 중 하나는 연결당 여러 개의 요청을 가질 수 없다는 것이다. 즉 클라이언트가 서버에서 무언가를 필요로 할 때마다 새로운 TCP 연결을 열어야 하고 단일 요청이 충족된 후에는 연결이 닫힌다. 많은 수의 연결은 새로운 TCP 연결을 요구하면 3웨이 핸드셰이크와 느린 시작으로 인해 성능 저하가 발생하기에 심각한 성능 저하를 초래한다

### 3-way handshake

모든 TCP 연결이 응용 프로그램 데이터 공유를 시작하기 전에 클라이언트와 서버가 일련의 패킷을 공유하는 3-way handshake로 시작한다.

* SYN - 클라이언트가 임의의 숫자를 선택하여 서버로 보낸다. x
* SYN/ACK - 서버가 임의의 숫자로 구성된 ACK 패킷을 클라이언트로 다시 전송하여 요청을 확인. y, x+1
* ACK - 클라이언트는 서버에서 받은 숫자 y를 증가시키고 숫자 y+1의 ACK 패킷을 다시 보냄
